<!DOCTYPE html> 
<html>
<head>
    <link type="text/css" rel="stylesheet" href="http://vjs.zencdn.net/5.4.4/video-js.css"/>
</head>
<body>
<video
    id="vid1"
    class="video-js vjs-default-skin"
    controls
    width="640" height="264"
    data-setup='{"sources": [{ "type": "video/mp4", "src": "mov_bbb.mp4"}] }'
    >
</video>

<button id="change">Change Video</button>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="http://vjs.zencdn.net/5.4.4/video.js"></script>
<script>
var myPlayer = videojs('vid1');
var doNext = true;
var POSTurl = "https://api.particle.io/v1/devices/2a005e001551353531343431/led";
var nichURL = "http://158.130.161.68:8081/on";
myPlayer.on('timeupdate', function() {
	document.querySelector('.content .value').innerHTML = myPlayer.currentTime();
	if ((myPlayer.currentTime() >= 2) & doNext) {
		doNext = false;
		controlLED("on");
		changeSource({type: 'video/mp4', src: 'small.mp4'}); 
	}
});

myPlayer.ready(function () {
	myPlayer.src({type: 'video/mp4', src: 'mov_bbb.mp4'});
	myPlayer.play();
});

function controlLED(cmd) {
	$.ajax({
        		type: "GET",
        		url: nichURL,
        		data: {
          		access_token: "371d886ca00a3722f39956df7b35b7c6c292d6d3",
          		args: cmd
        		},
	  		});
}
function remoteCMD(cmd) {
	

}
function changeSource(sources) {
		document.querySelector('.content .value').innerHTML = "functioncall2";
		myPlayer.src(sources);
		myPlayer.play();
	}
	
$("#change").on('click', function () {
	document.querySelector('.content .value').innerHTML = "functioncall";
	changeSource({type: 'video/mp4', src: 'small.mp4'}); 
});	
	
</script> 
<div class="content"><span class="value"></span></div>
</body>
</html>